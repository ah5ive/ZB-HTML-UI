!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(ae){"use strict";function r(N,u){function e(e){if(!(!0===P.data(Ae+"_intouch")||0<ae(e.target).closest(u.excludedElements,P).length)){var t,n,r,i=e.originalEvent||e;if(!i.pointerType||"mouse"!=i.pointerType||0!=u.fallbackToMouseEvents)return r=(n=i.touches)?n[0]:i,D=Oe,n?L=n.length:!1!==u.preventDefaultEvents&&e.preventDefault(),O=y=v=null,b=1,S=x=m=E=T=0,(e={})[ue]=a(ue),e[se]=a(se),e[ce]=a(ce),e[pe]=a(pe),M=e,J(),h(0,r),!n||L===u.fingers||u.fingers===be||c()?(le=f(),2==L&&(h(1,n[1]),m=x=te(R[0].start,R[1].start)),(u.swipeStatus||u.pinchStatus)&&(t=s(i,D))):t=!1,!1===t?(s(i,D=De),t):(u.hold&&(j=setTimeout(ae.proxy(function(){P.trigger("hold",[i.target]),u.hold&&(t=u.hold.call(P,i,i.target))},this),u.longTapThreshold)),o(!0),null)}}function t(e){var t=e.originalEvent||e;if(D!==Pe&&D!==De&&!p()){var n,r=t.touches,i=K(r?r[0]:t);if(k=f(),r&&(L=r.length),u.hold&&clearTimeout(j),D=Me,2==L&&(0==m?(h(1,r[1]),m=x=te(R[0].start,R[1].start)):(K(r[1]),x=te(R[0].end,R[1].end),R[0].end,R[1].end,O=b<1?fe:he),b=(x/m*1).toFixed(2),S=Math.abs(m-x)),L===u.fingers||u.fingers===be||!r||c()){v=ne(i.start,i.end),y=ne(i.last,i.end);var l,o=e,r=y;if(!1!==u.preventDefaultEvents)if(u.allowPageScroll===ge)o.preventDefault();else{var a=u.allowPageScroll===de;switch(r){case ue:(u.swipeLeft&&a||!a&&u.allowPageScroll!=me)&&o.preventDefault();break;case se:(u.swipeRight&&a||!a&&u.allowPageScroll!=me)&&o.preventDefault();break;case ce:(u.swipeUp&&a||!a&&u.allowPageScroll!=xe)&&o.preventDefault();break;case pe:(u.swipeDown&&a||!a&&u.allowPageScroll!=xe)&&o.preventDefault()}}e=i.start,r=i.end,T=Math.round(Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))),E=ee(),r=T,(e=v)!=ge&&(r=Math.max(r,$(e)),M[e].distance=r),n=s(t,D),u.triggerOnTouchEnd&&!u.triggerOnTouchLeave||(e=!0,u.triggerOnTouchLeave&&(l={left:(l=(r=ae(r=this)).offset()).left,right:l.left+r.outerWidth(),top:l.top,bottom:l.top+r.outerHeight()},r=i.end,i=l,e=r.x>i.left&&r.x<i.right&&r.y>i.top&&r.y<i.bottom),!u.triggerOnTouchEnd&&e?D=q(Me):u.triggerOnTouchLeave&&!e&&(D=q(Pe)),D!=De&&D!=Pe)||s(t,D)}else s(t,D=De);!1===n&&s(t,D=De)}}function n(e){var t,n=e.originalEvent||e,r=n.touches;if(r){if(r.length&&!p())return t=n,A=f(),oe=t.touches.length+1,!0;if(r.length&&p())return!0}return p()&&(L=oe),k=f(),E=ee(),C()||!Q()?s(n,D=De):u.triggerOnTouchEnd||!1===u.triggerOnTouchEnd&&D===Me?(!1!==u.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),s(n,D=Pe)):!u.triggerOnTouchEnd&&G()?l(n,D=Pe,ve):D===Me&&s(n,D=De),o(!1),null}function i(){x=m=le=k=L=0,J(),o(!(b=1))}function H(e){e=e.originalEvent||e;u.triggerOnTouchLeave&&s(e,D=q(Pe))}function _(){P.off(g,e),P.off(w,i),P.off(re,t),P.off(ie,n),d&&P.off(d,H),o(!1)}function q(e){var t=e,n=F(),r=Q(),i=C();return!n||i?t=De:!r||e!=Me||u.triggerOnTouchEnd&&!u.triggerOnTouchLeave?!r&&e==Pe&&u.triggerOnTouchLeave&&(t=De):t=Pe,t}function s(e,t){var n,r=e.touches;return(Y()&&V()||V())&&(n=l(e,t,we)),(X()&&c()||c())&&!1!==n&&(n=l(e,t,Te)),B()&&Z()&&!1!==n?n=l(e,t,ye):E>u.longTapThreshold&&T<Se&&u.longTap&&!1!==n?n=l(e,t,Ee):1!==L&&Le||!(isNaN(T)||T<u.threshold)||!G()||!1===n||(n=l(e,t,ve)),t===De&&i(),t!==Pe||r&&r.length||i(),n}function l(e,t,n){var r;if(n==we){if(P.trigger("swipeStatus",[t,v||null,T||0,E||0,L,R,y]),u.swipeStatus&&!1===(r=u.swipeStatus.call(P,e,t,v||null,T||0,E||0,L,R,y)))return!1;if(t==Pe&&Y()){if(clearTimeout(U),clearTimeout(j),P.trigger("swipe",[v,T,E,L,R,y]),u.swipe&&!1===(r=u.swipe.call(P,e,v,T,E,L,R,y)))return!1;switch(v){case ue:P.trigger("swipeLeft",[v,T,E,L,R,y]),u.swipeLeft&&(r=u.swipeLeft.call(P,e,v,T,E,L,R,y));break;case se:P.trigger("swipeRight",[v,T,E,L,R,y]),u.swipeRight&&(r=u.swipeRight.call(P,e,v,T,E,L,R,y));break;case ce:P.trigger("swipeUp",[v,T,E,L,R,y]),u.swipeUp&&(r=u.swipeUp.call(P,e,v,T,E,L,R,y));break;case pe:P.trigger("swipeDown",[v,T,E,L,R,y]),u.swipeDown&&(r=u.swipeDown.call(P,e,v,T,E,L,R,y))}}}if(n==Te){if(P.trigger("pinchStatus",[t,O||null,S||0,E||0,L,b,R]),u.pinchStatus&&!1===(r=u.pinchStatus.call(P,e,t,O||null,S||0,E||0,L,b,R)))return!1;if(t==Pe&&X())switch(O){case he:P.trigger("pinchIn",[O||null,S||0,E||0,L,b,R]),u.pinchIn&&(r=u.pinchIn.call(P,e,O||null,S||0,E||0,L,b,R));break;case fe:P.trigger("pinchOut",[O||null,S||0,E||0,L,b,R]),u.pinchOut&&(r=u.pinchOut.call(P,e,O||null,S||0,E||0,L,b,R))}}return n==ve?t!==De&&t!==Pe||(clearTimeout(U),clearTimeout(j),Z()&&!B()?(I=f(),U=setTimeout(ae.proxy(function(){I=null,P.trigger("tap",[e.target]),u.tap&&(r=u.tap.call(P,e,e.target))},this),u.doubleTapThreshold)):(I=null,P.trigger("tap",[e.target]),u.tap&&(r=u.tap.call(P,e,e.target)))):n==ye?t!==De&&t!==Pe||(clearTimeout(U),clearTimeout(j),I=null,P.trigger("doubletap",[e.target]),u.doubleTap&&(r=u.doubleTap.call(P,e,e.target))):n!=Ee||t!==De&&t!==Pe||(clearTimeout(U),I=null,P.trigger("longtap",[e.target]),u.longTap&&(r=u.longTap.call(P,e,e.target))),r}function Q(){var e=!0;return e=null!==u.threshold?T>=u.threshold:e}function C(){var e=!1;return e=null!==u.cancelThreshold&&null!==v?$(v)-T>=u.cancelThreshold:e}function F(){return!(u.maxTimeThreshold&&E>=u.maxTimeThreshold)}function X(){var e=W(),t=z(),n=null===u.pinchThreshold||S>=u.pinchThreshold;return e&&t&&n}function c(){return u.pinchStatus||u.pinchIn||u.pinchOut}function Y(){var e=F(),t=Q(),n=W(),r=z();return!C()&&r&&n&&t&&e}function V(){return u.swipe||u.swipeStatus||u.swipeLeft||u.swipeRight||u.swipeUp||u.swipeDown}function W(){return L===u.fingers||u.fingers===be||!Le}function z(){return 0!==R[0].end.x}function G(){return u.tap}function Z(){return!!u.doubleTap}function B(){var e;return null!=I&&(e=f(),Z())&&e-I<=u.doubleTapThreshold}function J(){oe=A=0}function p(){var e=!1;return e=A&&f()-A<=u.fingerReleaseThreshold?!0:e}function o(e){P&&(!0===e?(P.on(re,t),P.on(ie,n),d&&P.on(d,H)):(P.off(re,t,!1),P.off(ie,n,!1),d&&P.off(d,H,!1)),P.data(Ae+"_intouch",!0===e))}function h(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,R[e]=n}function K(e){var t=void 0!==e.identifier?e.identifier:0,n=R[t]||null;return(n=null===n?h(t,e):n).last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function $(e){return M[e]?M[e].distance:void 0}function a(e){return{direction:e,distance:0}}function ee(){return k-le}function te(e,t){var n=Math.abs(e.x-t.x),e=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+e*e))}function ne(e,t){var n,r;return n=t,(r=e).x==n.x&&r.y==n.y?ge:(r=t,t=(n=e).x-r.x,r=r.y-e.y,n=Math.atan2(r,t),r=(r=Math.round(180*n/Math.PI))<0?360-Math.abs(r):r,r<=45&&0<=r||r<=360&&315<=r?ue:135<=r&&r<=225?se:45<r&&r<135?pe:ce)}function f(){return(new Date).getTime()}var u=ae.extend({},u),r=Le||ke||!u.fallbackToMouseEvents,g=r?ke?Re?"MSPointerDown":"pointerdown":"touchstart":"mousedown",re=r?ke?Re?"MSPointerMove":"pointermove":"touchmove":"mousemove",ie=r?ke?Re?"MSPointerUp":"pointerup":"touchend":"mouseup",d=!r||ke?"mouseleave":null,w=ke?Re?"MSPointerCancel":"pointercancel":"touchcancel",T=0,v=null,y=null,E=0,m=0,x=0,b=1,S=0,O=0,M=null,P=ae(N),D="start",L=0,R={},le=0,k=0,A=0,oe=0,I=0,U=null,j=null;try{P.on(g,e),P.on(w,i)}catch(e){ae.error("events not supported "+g+","+w+" on jQuery.swipe")}this.enable=function(){return this.disable(),P.on(g,e),P.on(w,i),P},this.disable=function(){return _(),P},this.destroy=function(){_(),P.data(Ae,null),P=null},this.option=function(e,t){if("object"==typeof e)u=ae.extend(u,e);else if(void 0!==u[e]){if(void 0===t)return u[e];u[e]=t}else{if(!e)return u;ae.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var ue="left",se="right",ce="up",pe="down",he="in",fe="out",ge="none",de="auto",we="swipe",Te="pinch",ve="tap",ye="doubletap",Ee="longtap",me="horizontal",xe="vertical",be="all",Se=10,Oe="start",Me="move",Pe="end",De="cancel",Le="ontouchstart"in window,Re=window.navigator.msPointerEnabled&&!window.PointerEvent&&!Le,ke=(window.PointerEvent||window.navigator.msPointerEnabled)&&!Le,Ae="TouchSwipe";ae.fn.swipe=function(e){var t=ae(this),n=t.data(Ae);if(n&&"string"==typeof e){if(n[e])return n[e].apply(n,Array.prototype.slice.call(arguments,1));ae.error("Method "+e+" does not exist on jQuery.swipe")}else if(n&&"object"==typeof e)n.option.apply(n,arguments);else if(!(n||"object"!=typeof e&&e))return function(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=ge),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n=n||{},n=ae.extend({},ae.fn.swipe.defaults,n),this.each(function(){var e,t=ae(this);t.data(Ae)||(e=new r(this,n),t.data(Ae,e))})}.apply(this,arguments);return t},ae.fn.swipe.version="1.6.18",ae.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},ae.fn.swipe.phases={PHASE_START:Oe,PHASE_MOVE:Me,PHASE_END:Pe,PHASE_CANCEL:De},ae.fn.swipe.directions={LEFT:ue,RIGHT:se,UP:ce,DOWN:pe,IN:he,OUT:fe},ae.fn.swipe.pageScroll={NONE:ge,HORIZONTAL:me,VERTICAL:xe,AUTO:de},ae.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:be}});